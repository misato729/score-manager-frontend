<template>
  <GMapInfoWindow :opened="true" @closeclick="$emit('close')">
    <div style="max-width: 250px; font-size: 14px; line-height: 1.6;">
      <strong style="font-size: 16px;">ğŸ¢ {{ shop.name }}</strong><br />
      ğŸ“ {{ shop.address }}<br />
      ğŸ® {{ shop.price }}å†† / ğŸ•¹ï¸ {{ shop.number_of_machine }}å°<br />
      {{ shop.description }}<br />
      <div v-if="isNear && isLoggedIn" style="margin-top: 10px;">
        <button @click="$emit('record')">âœ… ã“ã®åº—èˆ—ã«è¡Œè„šè¨˜éŒ²ã‚’ã¤ã‘ã‚‹</button>
      </div>
    </div>
  </GMapInfoWindow>
</template>

<script setup lang="ts">
import type { Shop } from '@/types'
import { useAuthStore } from '@/stores/authStore'

const authStore = useAuthStore()
const isLoggedIn = !!authStore.user

defineProps<{
  shop: Shop
  isNear: boolean
}>()

defineEmits<{
  (e: 'close'): void
  (e: 'record'): void
}>()
</script>
